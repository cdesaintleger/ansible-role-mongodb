---

mongodb_instances:
  - type: 'mongod'
    state: 'present'
    config:
      storage:
        dbPath: "{{ mongodb_base_folders_paths.data }}/foo"
        journal:
          enabled: True
      systemLog:
        destination: 'file'
        logAppend: True
        path: "{{ mongodb_base_folders_paths.log }}/mongod_27017.log"
      net:
        port: 27017
        bindIp: '127.0.0.1'
  - type: 'mongos'
    state: 'present'
    enabled: False
    user: 'bar'
    group: 'bar'
    config:
      storage:
        dbPath: "{{ mongodb_base_folders_paths.data }}/bar"
        journal:
          enabled: True
      systemLog:
        destination: 'file'
        logAppend: True
        path: "{{ mongodb_base_folders_paths.log }}/mongos_27018.log"
      net:
        port: 27018
        bindIp: '127.0.0.1'
  - type: 'mongos'
    state: 'present'
    enabled: True
    user: 'foobar'
    group: 'foobar'
    config:
      sharding:
        configDB: 'localhost:27017'
      systemLog:
        destination: 'file'
        logAppend: True
        path: "{{ mongodb_base_folders_paths.log }}/mongos_27019.log"
      net:
        port: 27019
        bindIp: '127.0.0.1'
mongodb_users:
  - user: 'foo'
    password: 'bar'
    database: 'admin'
    login_port: 27017
  - user: 'foobar'
    password: 'bar'
    database: 'foobar_db'
    login_port: 27017
    login_user: 'foo'
    login_password: 'bar'
    login_database: 'admin'
